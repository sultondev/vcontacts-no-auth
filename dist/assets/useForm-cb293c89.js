import{e as X,p as R,z as T,o as O,c as A,x as P,h as N,d as Z,t as L,m as U,j as we,A as Oe,u as v,a as B,B as Ae,q as Ve,C as H,n as _,D as je,E as y,G as Me,H as Pe,I as te,J as se,K as ne}from"./index-969b7808.js";/*! maska v2.1.7 | (c) Alexander Shabunevich | Released under the MIT license */var Te=Object.defineProperty,Le=(e,s,n)=>s in e?Te(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,z=(e,s,n)=>(Le(e,typeof s!="symbol"?s+"":s,n),n);const ae={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}};class re{constructor(s={}){z(this,"opts",{}),z(this,"memo",new Map);var n;const t={...s};if(t.tokens!=null){t.tokens=t.tokensReplace?{...t.tokens}:{...ae,...t.tokens};for(const a of Object.values(t.tokens))typeof a.pattern=="string"&&(a.pattern=new RegExp(a.pattern))}else t.tokens=ae;Array.isArray(t.mask)&&(t.mask.length>1?t.mask.sort((a,i)=>a.length-i.length):t.mask=(n=t.mask[0])!=null?n:""),t.mask===""&&(t.mask=null),this.opts=t}masked(s){return this.process(s,this.findMask(s))}unmasked(s){return this.process(s,this.findMask(s),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(s){const n=this.findMask(s);if(this.opts.mask==null||n==null)return!1;const t=this.process(s,n).length;return typeof this.opts.mask=="string"?t>=this.opts.mask.length:typeof this.opts.mask=="function"?t>=n.length:this.opts.mask.filter(a=>t>=a.length).length===this.opts.mask.length}findMask(s){var n,t;const a=this.opts.mask;if(a==null)return null;if(typeof a=="string")return a;if(typeof a=="function")return a(s);const i=this.process(s,(n=a.slice(-1).pop())!=null?n:"",!1);return(t=a.find(u=>this.process(s,u,!1).length>=i.length))!=null?t:""}escapeMask(s){const n=[],t=[];return s.split("").forEach((a,i)=>{a==="!"&&s[i-1]!=="!"?t.push(i-t.length):n.push(a)}),{mask:n.join(""),escaped:t}}process(s,n,t=!0){var a;if(n==null)return s;const i=`value=${s},mask=${n},masked=${t?1:0}`;if(this.memo.has(i))return this.memo.get(i);const{mask:u,escaped:l}=this.escapeMask(n),d=[],c=this.opts.tokens!=null?this.opts.tokens:{},o=this.isReversed()?-1:1,h=this.isReversed()?"unshift":"push",$=this.isReversed()?0:u.length-1,g=this.isReversed()?()=>m>-1&&x>-1:()=>m<u.length&&x<s.length,r=C=>!this.isReversed()&&C<=$||this.isReversed()&&C>=$;let p,f=-1,m=this.isReversed()?u.length-1:0,x=this.isReversed()?s.length-1:0;for(;g();){const C=u.charAt(m),E=c[C],b=(E==null?void 0:E.transform)!=null?E.transform(s.charAt(x)):s.charAt(x);if(!l.includes(m)&&E!=null){if(b.match(E.pattern)!=null)d[h](b),E.repeated?(f===-1?f=m:m===$&&m!==f&&(m=f-o),$===f&&(m-=o)):E.multiple&&(m-=o),m+=o;else if(E.multiple){const S=((a=d[x-o])==null?void 0:a.match(E.pattern))!=null,M=u.charAt(m+o);S&&M!==""&&c[M]==null?(m+=o,x-=o):d[h]("")}else b===p?p=void 0:E.optional&&(m+=o,x-=o);x+=o}else t&&!this.isEager()&&d[h](C),b===C&&!this.isEager()?x+=o:p=C,this.isEager()||(m+=o);if(this.isEager())for(;r(m)&&(c[u.charAt(m)]==null||l.includes(m));)t?d[h](u.charAt(m)):u.charAt(m)===s.charAt(x)&&(x+=o),m+=o}return this.memo.set(i,d.join("")),this.memo.get(i)}}const fe=e=>JSON.parse(e.replaceAll("'",'"')),ie=(e,s={})=>{const n={...s};return e.dataset.maska!=null&&e.dataset.maska!==""&&(n.mask=ze(e.dataset.maska)),e.dataset.maskaEager!=null&&(n.eager=G(e.dataset.maskaEager)),e.dataset.maskaReversed!=null&&(n.reversed=G(e.dataset.maskaReversed)),e.dataset.maskaTokensReplace!=null&&(n.tokensReplace=G(e.dataset.maskaTokensReplace)),e.dataset.maskaTokens!=null&&(n.tokens=Se(e.dataset.maskaTokens)),n},G=e=>e!==""?Boolean(JSON.parse(e)):!0,ze=e=>e.startsWith("[")&&e.endsWith("]")?fe(e):e,Se=e=>{if(e.startsWith("{")&&e.endsWith("}"))return fe(e);const s={};return e.split("|").forEach(n=>{const t=n.split(":");s[t[0]]={pattern:new RegExp(t[1]),optional:t[2]==="optional",multiple:t[2]==="multiple",repeated:t[2]==="repeated"}}),s};class Ie{constructor(s,n={}){z(this,"items",new Map),z(this,"beforeinputEvent",t=>{const a=t.target,i=this.items.get(a);i.isEager()&&"inputType"in t&&t.inputType.startsWith("delete")&&i.unmasked(a.value).length<=1&&this.setMaskedValue(a,"")}),z(this,"inputEvent",t=>{if(t instanceof CustomEvent&&t.type==="input"&&t.detail!=null&&typeof t.detail=="object"&&"masked"in t.detail)return;const a=t.target,i=this.items.get(a),u=a.value,l=a.selectionStart,d=a.selectionEnd;let c=u;if(i.isEager()){const o=i.masked(u),h=i.unmasked(u);h===""&&"data"in t&&t.data!=null?c=t.data:h!==i.unmasked(o)&&(c=h)}if(this.setMaskedValue(a,c),"inputType"in t&&(t.inputType.startsWith("delete")||l!=null&&l<u.length))try{a.setSelectionRange(l,d)}catch{}}),this.options=n,typeof s=="string"?this.init(Array.from(document.querySelectorAll(s)),this.getMaskOpts(n)):this.init("length"in s?Array.from(s):[s],this.getMaskOpts(n))}destroy(){for(const s of this.items.keys())s.removeEventListener("input",this.inputEvent),s.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdateOptions(s,n){const t=this.items.get(s),a=new re(ie(s,this.getMaskOpts(n)));return JSON.stringify(t.opts)!==JSON.stringify(a.opts)}needUpdateValue(s){const n=s.dataset.maskaValue;return n==null&&s.value!==""||n!=null&&n!==s.value}getMaskOpts(s){const{onMaska:n,preProcess:t,postProcess:a,...i}=s;return i}init(s,n){for(const t of s){const a=new re(ie(t,n));this.items.set(t,a),t.value!==""&&this.setMaskedValue(t,t.value),t.addEventListener("input",this.inputEvent),t.addEventListener("beforeinput",this.beforeinputEvent)}}setMaskedValue(s,n){const t=this.items.get(s);this.options.preProcess!=null&&(n=this.options.preProcess(n));const a=t.masked(n),i=t.unmasked(t.isEager()?a:n),u=t.completed(n),l={masked:a,unmasked:i,completed:u};n=a,this.options.postProcess!=null&&(n=this.options.postProcess(n)),s.value=n,s.dataset.maskaValue=n,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(d=>d(l)):this.options.onMaska(l)),s.dispatchEvent(new CustomEvent("maska",{detail:l})),s.dispatchEvent(new CustomEvent("input",{detail:l}))}}const K=new WeakMap,Ne=e=>{setTimeout(()=>{var s;((s=K.get(e))==null?void 0:s.needUpdateValue(e))===!0&&e.dispatchEvent(new CustomEvent("input"))})},Be=(e,s)=>{const n=e instanceof HTMLInputElement?e:e.querySelector("input"),t={...s.arg};if(n==null)return;Ne(n);const a=K.get(n);if(a!=null){if(!a.needUpdateOptions(n,t))return;a.destroy()}if(s.value!=null){const i=s.value,u=l=>{i.masked=l.masked,i.unmasked=l.unmasked,i.completed=l.completed};t.onMaska=t.onMaska==null?u:Array.isArray(t.onMaska)?[...t.onMaska,u]:[t.onMaska,u]}K.set(n,new Ie(n,t))},De=["for"],_e=["id","maxlength","minlength","data-maska","name","placeholder","type"],vt=X({__name:"Input",props:{prefix:null,prefixClasses:null,suffix:null,suffixClasses:null,inputClasses:null,text:null,error:{type:Boolean},maskaOptions:{default:""},fieldKey:null,max:null,min:null,wrapperClass:{default:"bg-primary border border-gray"},placeholder:null,type:{default:"text"}},emits:["inputChange"],setup(e,{emit:s}){const n=e,t=R(n.text||""),a=R(n.type);T(t,()=>{s("inputChange",t.value,n.fieldKey)});const i=R(crypto.randomUUID());function u(){a.value===n.type?a.value="text":a.value="password"}return(l,d)=>(O(),A("label",{class:P(["group block flex items-center cursor-text w-full",[e.wrapperClass,{"border-2 border-rose-500":e.error}]]),for:i.value},[e.prefix||e.prefixClasses?(O(),A("span",{key:0,class:P(["text-inherit",e.prefixClasses])},[N(l.$slots,"prefix",{},()=>[Z(L(e.prefix),1)])],2)):U("",!0),we(B("input",{class:P(["outline-none w-full bg-inherit",e.inputClasses]),"onUpdate:modelValue":d[0]||(d[0]=c=>t.value=c),id:i.value,maxlength:e.max,minlength:e.min,"data-maska":e.maskaOptions,autocomplete:"off",name:e.fieldKey,placeholder:e.placeholder,type:a.value},null,10,_e),[[Oe,t.value],[v(Be)]]),e.type==="password"?(O(),A("button",{key:1,type:"button","aria-label":"togglePassword",onClick:u,class:"px-1 bg-white ml-1 text-black rounded-sm text-black min-w-[50px] w-fit"},L(e.type==="password"&&a.value==="password"?"show":"hide"),1)):U("",!0),e.suffix||e.suffixClasses?(O(),A("span",{key:2,class:P(["text-inherit",e.suffixClasses])},[N(l.$slots,"suffix",{},()=>[Z(L(e.suffix),1)])],2)):U("",!0)],10,De))}}),Y=e=>{if(e=v(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let s in e)return!0;return!1}return!!String(e).length},Fe=e=>(e=v(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function j(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t=>(t=v(t),!Y(t)||s.every(a=>a.test(t)))}j(/^[a-zA-Z]*$/);j(/^[a-zA-Z0-9]*$/);j(/^\d*(\.\d+)?$/);const We=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var qe=j(We),gt={$validator:qe,$message:"Value is not a valid email address",$params:{type:"email"}};function Ue(e){return s=>!Y(s)||Fe(s)>=v(e)}function $t(e){return{$validator:Ue(e),$message:s=>{let{$params:n}=s;return`This field should be at least ${n.min} characters long`},$params:{min:e,type:"minLength"}}}function Ge(e){return typeof e=="string"&&(e=e.trim()),Y(e)}var yt={$validator:Ge,$message:"Value is required",$params:{type:"required"}};const Je=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;j(Je);j(/(^[0-9]*$)|(^-[0-9]+$)/);j(/^[-]?\d*(\.\d+)?$/);const Ze={class:""},kt=X({__name:"FormGroup",props:{headerClasses:{default:"mb-2"},title:{default:"Title"}},setup(e){return(s,n)=>(O(),A("div",Ze,[B("h6",{class:P(e.headerClasses)},L(e.title),3),N(s.$slots,"default")]))}}),He=["disabled"],Ke={class:"loading-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Qe=["stroke"],Xe=["stroke"],xt=X({__name:"Button",props:{text:null,loading:{type:Boolean},spinnerColor:null},setup(e){return(s,n)=>(O(),A("button",{disabled:e.loading},[e.loading?(O(),A("i",{key:1,class:P(["s-transition block mx-auto w-fit absolute-center-h absolute-center-v",e.loading?"opacity-100 visible":"opacity-0 invisible w-[0px] h-[0px]"])},[(O(),A("svg",Ke,[B("path",{opacity:"0.2",d:"M11.9999 3.14746C16.8856 3.14746 20.8524 7.11425 20.8524 11.9999C20.8524 16.8856 16.8856 20.8524 11.9999 20.8524C7.11425 20.8524 3.14746 16.8856 3.14746 11.9999C3.14746 7.11425 7.11425 3.14746 11.9999 3.14746Z",stroke:e.spinnerColor?e.spinnerColor:"#17171C","stroke-width":"3"},null,8,Qe),B("path",{d:"M11.2458 20.8191C9.38896 20.6622 7.56653 19.9205 6.07624 18.5787C3.60297 16.3517 2.67826 13.0422 3.37337 10.0106",stroke:e.spinnerColor?e.spinnerColor:"#17171C","stroke-width":"3","stroke-linecap":"round"},null,8,Xe)]))],2)):N(s.$slots,"default",{key:0},()=>[Z(L(e.text),1)])],8,He))}});function le(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,t)=>(s.includes(t)||(n[t]=v(e[t])),n),{})}function D(e){return typeof e=="function"}function Ye(e){return Me(e)||Pe(e)}function he(e,s,n){let t=e;const a=s.split(".");for(let i=0;i<a.length;i++){if(!t[a[i]])return n;t=t[a[i]]}return t}function J(e,s,n){return y(()=>e.some(t=>he(s,t,{[n]:!1})[n]))}function oe(e,s,n){return y(()=>e.reduce((t,a)=>{const i=he(s,a,{[n]:!1})[n]||[];return t.concat(i)},[]))}function me(e,s,n,t){return e.call(t,v(s),v(n),t)}function pe(e){return e.$valid!==void 0?!e.$valid:!e}function et(e,s,n,t,a,i,u){let{$lazy:l,$rewardEarly:d}=a,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],o=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,$=arguments.length>10?arguments[10]:void 0;const g=R(!!t.value),r=R(0);n.value=!1;const p=T([s,t].concat(c,$),()=>{if(l&&!t.value||d&&!h.value&&!n.value)return;let f;try{f=me(e,s,o,u)}catch(m){f=Promise.reject(m)}r.value++,n.value=!!r.value,g.value=!1,Promise.resolve(f).then(m=>{r.value--,n.value=!!r.value,i.value=m,g.value=pe(m)}).catch(m=>{r.value--,n.value=!!r.value,i.value=m,g.value=!0})},{immediate:!0,deep:typeof s=="object"});return{$invalid:g,$unwatch:p}}function tt(e,s,n,t,a,i,u,l){let{$lazy:d,$rewardEarly:c}=t;const o=()=>({}),h=y(()=>{if(d&&!n.value||c&&!l.value)return!1;let $=!0;try{const g=me(e,s,u,i);a.value=g,$=pe(g)}catch(g){a.value=g}return $});return{$unwatch:o,$invalid:h}}function st(e,s,n,t,a,i,u,l,d,c,o){const h=R(!1),$=e.$params||{},g=R(null);let r,p;e.$async?{$invalid:r,$unwatch:p}=et(e.$validator,s,h,n,t,g,a,e.$watchTargets,d,c,o):{$invalid:r,$unwatch:p}=tt(e.$validator,s,n,t,g,a,d,c);const f=e.$message;return{$message:D(f)?y(()=>f(le({$pending:h,$invalid:r,$params:le($),$model:s,$response:g,$validator:i,$propertyPath:l,$property:u}))):f||"",$params:$,$pending:h,$invalid:r,$response:g,$unwatch:p}}function nt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=v(e),n=Object.keys(s),t={},a={},i={};let u=null;return n.forEach(l=>{const d=s[l];switch(!0){case D(d.$validator):t[l]=d;break;case D(d):t[l]={$validator:d};break;case l==="$validationGroups":u=d;break;case l.startsWith("$"):i[l]=d;break;default:a[l]=d}}),{rules:t,nestedValidators:a,config:i,validationGroups:u}}function at(){}const rt="__root";function ve(e,s,n){if(n)return s?s(e()):e();try{var t=Promise.resolve(e());return s?t.then(s):t}catch(a){return Promise.reject(a)}}function it(e,s){return ve(e,at,s)}function lt(e,s){var n=e();return n&&n.then?n.then(s):s(n)}function ot(e){return function(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];try{return Promise.resolve(e.apply(this,s))}catch(t){return Promise.reject(t)}}}function ut(e,s,n,t,a,i,u,l,d){const c=Object.keys(e),o=t.get(a,e),h=R(!1),$=R(!1),g=R(0);if(o){if(!o.$partial)return o;o.$unwatch(),h.value=o.$dirty.value}const r={$dirty:h,$path:a,$touch:()=>{h.value||(h.value=!0)},$reset:()=>{h.value&&(h.value=!1)},$commit:()=>{}};return c.length?(c.forEach(p=>{r[p]=st(e[p],s,r.$dirty,i,u,p,n,a,d,$,g)}),r.$externalResults=y(()=>l.value?[].concat(l.value).map((p,f)=>({$propertyPath:a,$property:n,$validator:"$externalResults",$uid:`${a}-externalResult-${f}`,$message:p,$params:{},$response:null,$pending:!1})):[]),r.$invalid=y(()=>{const p=c.some(f=>v(r[f].$invalid));return $.value=p,!!r.$externalResults.value.length||p}),r.$pending=y(()=>c.some(p=>v(r[p].$pending))),r.$error=y(()=>r.$dirty.value?r.$pending.value||r.$invalid.value:!1),r.$silentErrors=y(()=>c.filter(p=>v(r[p].$invalid)).map(p=>{const f=r[p];return _({$propertyPath:a,$property:n,$validator:p,$uid:`${a}-${p}`,$message:f.$message,$params:f.$params,$response:f.$response,$pending:f.$pending})}).concat(r.$externalResults.value)),r.$errors=y(()=>r.$dirty.value?r.$silentErrors.value:[]),r.$unwatch=()=>c.forEach(p=>{r[p].$unwatch()}),r.$commit=()=>{$.value=!0,g.value=Date.now()},t.set(a,e,r),r):(o&&t.set(a,e,r),r)}function ct(e,s,n,t,a,i,u){const l=Object.keys(e);return l.length?l.reduce((d,c)=>(d[c]=Q({validations:e[c],state:s,key:c,parentKey:n,resultsCache:t,globalConfig:a,instance:i,externalResults:u}),d),{}):{}}function dt(e,s,n){const t=y(()=>[s,n].filter(r=>r).reduce((r,p)=>r.concat(Object.values(v(p))),[])),a=y({get(){return e.$dirty.value||(t.value.length?t.value.every(r=>r.$dirty):!1)},set(r){e.$dirty.value=r}}),i=y(()=>{const r=v(e.$silentErrors)||[],p=t.value.filter(f=>(v(f).$silentErrors||[]).length).reduce((f,m)=>f.concat(...m.$silentErrors),[]);return r.concat(p)}),u=y(()=>{const r=v(e.$errors)||[],p=t.value.filter(f=>(v(f).$errors||[]).length).reduce((f,m)=>f.concat(...m.$errors),[]);return r.concat(p)}),l=y(()=>t.value.some(r=>r.$invalid)||v(e.$invalid)||!1),d=y(()=>t.value.some(r=>v(r.$pending))||v(e.$pending)||!1),c=y(()=>t.value.some(r=>r.$dirty)||t.value.some(r=>r.$anyDirty)||a.value),o=y(()=>a.value?d.value||l.value:!1),h=()=>{e.$touch(),t.value.forEach(r=>{r.$touch()})},$=()=>{e.$commit(),t.value.forEach(r=>{r.$commit()})},g=()=>{e.$reset(),t.value.forEach(r=>{r.$reset()})};return t.value.length&&t.value.every(r=>r.$dirty)&&h(),{$dirty:a,$errors:u,$invalid:l,$anyDirty:c,$error:o,$pending:d,$touch:h,$reset:g,$silentErrors:i,$commit:$}}function Q(e){const s=ot(function(){return q(),lt(function(){if(f.$rewardEarly)return ee(),it(ne)},function(){return ve(ne,function(){return new Promise(k=>{if(!W.value)return k(!F.value);const V=T(W,()=>{k(!F.value),V()})})})})});let{validations:n,state:t,key:a,parentKey:i,childResults:u,resultsCache:l,globalConfig:d={},instance:c,externalResults:o}=e;const h=i?`${i}.${a}`:a,{rules:$,nestedValidators:g,config:r,validationGroups:p}=nt(n),f=Object.assign({},d,r),m=a?y(()=>{const k=v(t);return k?v(k[a]):void 0}):t,x=Object.assign({},v(o)||{}),C=y(()=>{const k=v(o);return a?k?v(k[a]):void 0:k}),E=ut($,m,a,l,h,f,c,C,t),b=ct(g,m,h,l,f,c,C),S={};p&&Object.entries(p).forEach(k=>{let[V,w]=k;S[V]={$invalid:J(w,b,"$invalid"),$error:J(w,b,"$error"),$pending:J(w,b,"$pending"),$errors:oe(w,b,"$errors"),$silentErrors:oe(w,b,"$silentErrors")}});const{$dirty:M,$errors:$e,$invalid:F,$anyDirty:ye,$error:ke,$pending:W,$touch:q,$reset:xe,$silentErrors:Re,$commit:ee}=dt(E,b,u),Ee=a?y({get:()=>v(m),set:k=>{M.value=!0;const V=v(t),w=v(o);w&&(w[a]=x[a]),H(V[a])?V[a].value=k:V[a]=k}}):null;a&&f.$autoDirty&&T(m,()=>{M.value||q();const k=v(o);k&&(k[a]=x[a])},{flush:"sync"});function be(k){return(u.value||{})[k]}function Ce(){H(o)?o.value=x:Object.keys(x).length===0?Object.keys(o).forEach(k=>{delete o[k]}):Object.assign(o,x)}return _(Object.assign({},E,{$model:Ee,$dirty:M,$error:ke,$errors:$e,$invalid:F,$anyDirty:ye,$pending:W,$touch:q,$reset:xe,$path:h||rt,$silentErrors:Re,$validate:s,$commit:ee},u&&{$getResultsForChild:be,$clearExternalResults:Ce,$validationGroups:S},b))}class ft{constructor(){this.storage=new Map}set(s,n,t){this.storage.set(s,{rules:n,result:t})}checkRulesValidity(s,n,t){const a=Object.keys(t),i=Object.keys(n);return i.length!==a.length||!i.every(l=>a.includes(l))?!1:i.every(l=>n[l].$params?Object.keys(n[l].$params).every(d=>v(t[l].$params[d])===v(n[l].$params[d])):!0)}get(s,n){const t=this.storage.get(s);if(!t)return;const{rules:a,result:i}=t,u=this.checkRulesValidity(s,n,a),l=i.$unwatch?i.$unwatch:()=>({});return u?i:{$dirty:i.$dirty,$partial:!0,$unwatch:l}}}const I={COLLECT_ALL:!0,COLLECT_NONE:!1},ue=Symbol("vuelidate#injectChildResults"),ce=Symbol("vuelidate#removeChildResults");function ht(e){let{$scope:s,instance:n}=e;const t={},a=R([]),i=y(()=>a.value.reduce((o,h)=>(o[h]=v(t[h]),o),{}));function u(o,h){let{$registerAs:$,$scope:g,$stopPropagation:r}=h;r||s===I.COLLECT_NONE||g===I.COLLECT_NONE||s!==I.COLLECT_ALL&&s!==g||(t[$]=o,a.value.push($))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],u);function l(o){a.value=a.value.filter(h=>h!==o),delete t[o]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],l);const d=te(ue,[]);se(ue,n.__vuelidateInjectInstances);const c=te(ce,[]);return se(ce,n.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:d,removeValidationResultsFromParent:c}}function ge(e){return new Proxy(e,{get(s,n){return typeof s[n]=="object"?ge(s[n]):y(()=>s[n])}})}let de=0;function mt(e,s){var n;let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(t=e,e=void 0,s=void 0);let{$registerAs:a,$scope:i=I.COLLECT_ALL,$stopPropagation:u,$externalResults:l,currentVueInstance:d}=t;const c=d||((n=Ae())===null||n===void 0?void 0:n.proxy),o=c?c.$options:{};a||(de+=1,a=`_vuelidate_${de}`);const h=R({}),$=new ft,{childResults:g,sendValidationResultsToParent:r,removeValidationResultsFromParent:p}=c?ht({$scope:i,instance:c}):{childResults:R({})};if(!e&&o.validations){const f=o.validations;s=R({}),Ve(()=>{s.value=c,T(()=>D(f)?f.call(s.value,new ge(s.value)):f,m=>{h.value=Q({validations:m,state:s,childResults:g,resultsCache:$,globalConfig:t,instance:c,externalResults:l||c.vuelidateExternalResults})},{immediate:!0})}),t=o.validationsConfig||t}else{const f=H(e)||Ye(e)?e:_(e||{});T(f,m=>{h.value=Q({validations:m,state:s,childResults:g,resultsCache:$,globalConfig:t,instance:c??{},externalResults:l})},{immediate:!0})}return c&&(r.forEach(f=>f(h,{$registerAs:a,$scope:i,$stopPropagation:u})),je(()=>p.forEach(f=>f(a)))),y(()=>Object.assign({},v(h.value),g.value))}function Rt(...e){const[s,n,t]=e,a=_(s),i=mt(n,a,t);return{values:a,$v:i}}export{vt as _,kt as a,xt as b,gt as e,$t as m,yt as r,Rt as u};
