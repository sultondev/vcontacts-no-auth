import{e as _,n as h,o as g,c as v,a as o,i as w,b as t,w as n,r as b,u as i,d as p}from"./index-969b7808.js";import{p as y}from"./axios.config-f1999fed.js";import{u as $,a as c,b as k,r as d,e as C,_ as u}from"./useForm-cb293c89.js";const S={class:"reg"},I={class:"container flex mx-auto lg:flex-row sm:flex-col min-h-screen sm:justify-center lg:justify-auto items-center"},E=o("div",{class:"w-1/2"},[o("div",{class:"lg:text-8xl sm:text-4xl text-center font-bold text-[#0080D0] uppercase"}," v contacts "),o("div",{class:"text-white text-center block lg:hidden my-4"}," Registration ")],-1),j={class:"w-1/2 flex justify-center"},N=["onSubmit"],R=_({__name:"Register",setup(B){const a=h({loading:!1,error:!1}),r=$({username:"",email:"",password:"",confirm:!0},{username:{required:d},email:{required:d,email:C},password:{required:d}});async function f(){r.$v.value.$touch(),r.$v.value.$invalid||(a.loading=!0,await y.post("/auth/local/register",JSON.stringify(r.values)).then(s=>{s.status===200&&(localStorage.setItem("token",s.data.jwt),location.reload())}).catch(s=>{console.log(s),a.error=!0}).finally(()=>{a.loading=!1}))}function l(s,m){r.values[m]=s}return(s,m)=>{const x=b("router-link");return g(),v("section",S,[o("div",I,[E,o("div",j,[o("form",{onSubmit:w(f,["prevent"]),class:"flex flex-col gap-4"},[t(c,{title:"Username",class:"text-white"},{default:n(()=>{var e;return[t(u,{"prefix-classes":"mr-1",class:"py-1 px-2 rounded-md border-2 text-white bg-transparent","field-key":"username",placeholder:"Enter username",onInputChange:l,error:((e=i(r).$v)==null?void 0:e.value.username.$error)||a.error,max:"20"},null,8,["error"])]}),_:1}),t(c,{title:"Email",class:"text-white"},{default:n(()=>{var e;return[t(u,{"prefix-classes":"mr-1",class:"py-1 px-2 rounded-md border-2 text-white bg-transparent","field-key":"email",placeholder:"Enter email",onInputChange:l,error:((e=i(r).$v)==null?void 0:e.value.email.$error)||a.error,max:"30"},null,8,["error"])]}),_:1}),t(c,{title:"Password",class:"text-white"},{default:n(()=>{var e;return[t(u,{"prefix-classes":"mr-1",class:"py-1 px-2 rounded-md border-2 text-white bg-transparent","field-key":"password",placeholder:"Enter password",type:"password",onInputChange:l,max:"30",error:((e=i(r).$v)==null?void 0:e.value.password.$error)||a.error},null,8,["error"])]}),_:1}),t(k,{type:"submit","aria-label":"Submit","spinner-color":"#cdcdcd",class:"bg-[#2A0096] text-white py-2 rounded-xl text-center disabled:opacity-50",loading:a.loading},{default:n(()=>[p(" Create an account ")]),_:1},8,["loading"]),t(x,{to:"/login",class:"text-xs text-gray-500 text-center"},{default:n(()=>[p("I have an account")]),_:1})],40,N)])])])}}});export{R as default};
